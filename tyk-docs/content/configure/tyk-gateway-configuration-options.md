   ---
date: 2017-03-27T12:51:44+01:00
title: Tyk Gateway Configuration Options
menu:
  main:
    parent: "Configure"
weight: 1 
---

## <a name="configuration"></a> Tyk Gateway Configuration


The Tyk Gateway server is configured primarily via the `tyk.conf` file, this file resides in `/opt/tyk-gateway` on most systems, but can also live anywhere and be directly targeted with the `--conf` flag.

### Environment Variables

Environment variables can be used to override the settings defined in the configuration file. See [Environment Variables](/docs/configure/environment-variables/) for details. Where an environment variable is specified, its value will take precedence over the value in the configuration file.

### <a name="linter"></a> tyk lint
In **v2.4** we have added a new `tyk lint ` command which will validate your `tyk.conf` file and validate it for syntax correctness, misspelled attribute names or format of values. The Syntax can be:

`tyk lint` or `tyk --conf=path lint`

If `--conf` is not used, the first of the following paths to exist is used:

`./tyk.conf`
`/etc/tyk/tyk.conf`

### <a name="listen_port"></a> listen_port

Setting this value will change the port that Tyk listens on, by default Tyk will try to listen on port 8080.

### <a name="node_secret"></a> node_secret

The shared secret between the Gateway and the Dashboard to ensure that API Definition downloads, heartbeat and Policy loads are from a valid source.

### <a name="secret"></a> secret

This should be changed as soon as Tyk is installed on the system. This value is used in every interaction with the Tyk REST API, it should be passed along as the `X-Tyk-Authorization` header in any requests made. Tyk assumes that you are sensible enough not to expose the management endpoints to the public and to keep this configuration value to yourself.

### <a name="template_path"></a> template_path

This is the path to the Tyk templates, as of the current version there is only one template `error.json` which determines the output of any errors that are returned by Tyk to any clients attempting to connect (with the exception of the OAuth flow, which has hard-coded templates). Env Var: `TYK_GW_TEMPLATEPATH`

### <a name="app_path"></a> app_path

If Tyk is being used in its standard configuration (CE Mode), then API definitions are stored in the apps folder (by default in `/opt/tyk-gateway/apps`). This file is scanned for files that ending in `.json` extension and interpreted at startup or reload. See [API Management](/docs/tyk-rest-api/api-management/) for more details. Env Var: `TYK_GW_APPPATH`

### <a name="hash_keys"></a> hash_keys

Set this value to `true` to enable key hashing, this will start hashing all keys that are generated by Tyk in Redis. Enabling this means that keys that are created are only exposed once, during creation. If the key is lost or misplaced after this it will not be retrievable (however its hash can still be deleted, if known). 

If this is set to `true`, the same value should be enabled in the Dashboard configuration so that the UI can react appropriately. Env Var: `TYK_GW_HASHKEYS`

### <a name="enable_hashed_keys_listing"></a>enable_hashed_keys_listing

Set to `false` by default, set this to `true` to enable the retrieval all (or per API) key hash listings. Env Var: `TYK_GW_ENABLEHASHEDKEYSLISTING`

### <a name="allow_master_keys"></a> allow_master_keys

If this value is set to `true`, session objects (key definitions) that do not have explicit access rights set will be allowed by Tyk. This means that keys that are created have access to ALL APIs, which in many cases is unwanted behaviour unless you are sure about what you are doing. Env Var `TYK_GW_ALLOWMASTERKEYS`

### <a name="min_key_length"></a>min_key_length

This allows you to set a minimum key length for Authorisation key requests. Any request containing less than the minimum length will automatically rejected. The default setting is `3`. 

### <a name="use_db_app_configs"></a> use_db_app_configs

If you are a Tyk Pro user, this option will enable polling the Dashboard service for API definitions. On startup Tyk will attempt to connect and download any relevant application configurations from from a Dashboard instance. The documents are exactly the same as the JSON configuration on disk with the exception of a BSON ID supplied by the service. Env Var `TYK_GW_USEDBAPPCONFIGS`

### <a name="use_db_app_options"></a> use_db_app_options

This section defines API loading and shard options, enable these settings to only selectively load API definitions on a node from a Dashboard service.

#### <a name="use_db_app_options-connection_string"></a> use_db_app_options.connection_string

Set the URL to your Dashboard instance (or a load balanced instance), the URL should take the form of: `http://dashboard_host:port`

> **Note**: the same will need to be done for Policy loading, see the policies section below.


#### <a name="use_db_app_options-node_is_segmented"></a> use_db_app_options.node_is_segmented

Set to `true` to enable filtering (sharding) of APIs.

> **Note**: If you set to `true` for multiple gateway nodes, you should ensure that `management_node` is set to `false`. This is to ensure visibility for the management node across all APIs. 

#### <a name="use_db_app_options-tags"></a> use_db_app_options.tags

The tags to use when filtering (sharding) Tyk Gateway nodes, tags are processed as OR operations. If you include a non-filter tag (e.g. an identifier such as `node-id-1`, this will become available to your analytics Dashboard).

### <a name="storage"></a> storage

This section of the configuration is to hold the Redis configuration. Env Var: `TYK_GW_STORAGE`

#### <a name="storage-type"></a> storage.type

This should be set to `"redis"` (lowercase), the previous backup and testing option of `csv` is deprecated. Env Var: `TYK_GW_STORAGE_TYPE`

#### <a name="storage-host"></a> storage.host

The Redis host, by default this is set to `localhost`, but for production this should be set to a cluster. Env Var: `TYK_GW_STORAGE_HOST`

#### <a name="storage-port"></a> storage.port

The Redis instance port. Env Var: `TYK_GW_STORAGE_PORT`

#### <a name="storage-password"></a> storage.password

If your Redis instance has a password set for access, you can tell Tyk about it here. Env Var: `TYK_GW_STORAGE_PASSWORD`

#### <a name="storage-timeout"></a> storage.timeout

Set cutom timeout for Redis network operations. Default value 5 seconds. Env Var: `TYK_GW_STORAGE_TIMEOUT`

#### <a name="storage-optimisation_max_idle"></a> storage.optimisation_max_idle

Set the number of maximum idle connections in the Redis connection pool, defaults to 100, set to higher if expecting more traffic. Env Var: `TYK_GW_STORAGE_MAXIDLE`

#### <a name="storage-use_ssl"></a> storage.use_ssl

Enable SSL/TLS connection between the Tyk Gateway and Redis. Env Var: `TYK_GW_STORAGE_USESSL`

#### <a name="enable_analytics"></a> enable_analytics

Tyk is capable of recording every hit to your API into a database with various filtering parameters, set this value to `true` and fill in the sub-section below to enable logging. Env Var: `TYK_GW_ENABLEANALYTICS`

> **Note**: For performance reasons, Tyk will store traffic data to Redis initially and then purge the data from Redis to  MongoDB or other, [data stores](https://tyk.io/docs/analyse/other-data-stores/), on a regular basis as determined by the `purge_delay` setting in your Tyk Pump configuration.

### <a name="analytics_config"></a> analytics_config

This section defines options on what analytics data to store. Env Var: `TYK_GW_ANALYTICSCONFIG`

#### <a name="analytics_config-enable_detailed_recording"></a> analytics_config.enable_detailed_recording

Set this value to `true` to have Tyk store the inbound request and outbound response data in HTTP Wire format as part of the Analytics data. Please note, this will greatly increase your analytics DB size and can cause performance degradation on analytics processing by the Dashboard. This setting can be overridden with an organisation flag.

Setting `enforce_org_data_detail_logging` in the `tyk.conf` will enforce it (quotas must also be enforced for this to work), then setting `enable_detail_recording` in the org session object will enable or disable the logging method on a per-organisation basis. This can be useful for debugging live APIs. Env Var: `TYK_GW_ANALYTICSCONFIG_ENABLEDETAILEDRECORDING`

#### <a name="analytics_config-enable_geo_ip-enable_geo_ip_db_path"></a> analytics_config.enable_geo_ip and analytics_config.geo_ip_db_path

##### <a name="enable_geo_ip"></a> enable_geo_ip

As of Tyk API Gateway 2.0, Tyk can store GeoIP information based on MaxMind DB's, to enable GeoIP tracking on inbound request analytics, set this value to `true` and assign a DB using the `geo_ip_db_path` setting.

Please make sure you have also enabled analytics storing by setting [`enable_analytics`](https://tyk.io/docs/configure/tyk-gateway-configuration-options/#a-name-enable-analytics-a-enable-analytics) in the Gateway. Env Var: `TYK_GW_ANALYTICSCONFIG_ENABLEGEOIP`

##### <a name="enable_geo_ip_db_path"></a> geo_ip_db_path

Set this value to the absolute path of your MaxMind GeoIP Database file, e.g.: `./GeoLite2-City.mmdb`. The analytics GeoIP DB can be replaced on disk, it will cleanly auto-reload every hour. 

Don't forget to mount it in case you use containers. Env Var: `TYK_GW_ANALYTICSCONFIG_GEOIPDBLOCATION`

#### <a name="analytics_config-ignored_ips"></a> analytics_config.ignored_ips

Adding IP addresses to this list will cause Tyk to ignore these IPs in the analytics data, these IP addresses will not produce an analytics log record. This is useful for health checks and other samplers that might skew usage data. The IP addresses must be provided as a JSON array, with the values being single IPs. CIDR values are not supported.This is useful for health checks and other samplers that might skew usage data. Env Var: `TYK_GW_ANALYTICSCONFIG_IGNOREDIPS`

#### <a name="analytics_config-normalise_urls"></a> analytics_config.normalise_urls

This section describes methods that enable you to normalise inbound URLs in your analytics so as to have more meaningful per-path data. Env Var: `TYK_GW_ANALYTICSCONFIG_NORMALISEURLS`

#### <a name="analytics_config-normalise_urls-enabled"></a> analytics_config.normalise_urls.enabled

Set this to `true` to enable normalisation. Env Var: `TYK_GW_ANALYTICSCONFIG_NORMALISEURLS_ENABLED`

#### <a name="analytics_config-normalise_urls-normalise_uuids"></a> analytics_config.normalise_urls.normalise_uuids

Set this to `true` to have Tyk automatically clean up UUIDs, it will match the following styles:

* `/15873a748894492162c402d67e92283b/search`
* `/CA761232-ED42-11CE-BACD-00AA0057B223/search`
* `/ca761232-ed42-11ce-BAcd-00aa0057b223/search`
* `/ca761232-ed42-11ce-BAcd-00aa0057b223/search`

Each UUID will be replaced with a placeholder `{uuid}`. Env Var: `TYK_GW_ANALYTICSCONFIG_NORMALISEURLS_NORMALISEUUIDS`

#### <a name="analytics_config-normalise_urls-normalise_numbers"></a> analytics_config.normalise_urls.normalise_numbers

Set this to `true` to have Tyk automatically match for numeric ID's, it will match with a preceding slash so as not to capture actual numbers. Env Var: `TYK_GW_ANALYTICSCONFIG_NORMALISEURLS_NORMALISENUMBERS`:

* `/widgets/123456/getParams will become /widgets/{id}/getParams`

#### <a name="analytics_config-normalise_urls-custom_patterns"></a> analytics_config.normalise_urls.custom_patterns

This is a list of custom patterns you can add, these must be valid regex strings, Tyk will replace these values with a `{var}` placeholder. Env Var: `TYK_GW_ANALYTICSCONFIG_NORMALISEURLS_CUSTOM`

#### <a name="analytics_config.storage_expiration_time"></a>analytics_config.storage_expiration_time

You can set a time (in seconds) to configure how long analytics are kept if they are not processed. The default is 60 seconds. This is used to prevent the potential infinite growth of Redis analytics storage. Env Var: `TYK_GW_ANALYTICSCONFIG_STORAGEEXPIRATIONTIME`

> **NOTE:** This option is available from v2.5.2 onwards.

### <a name="policies"></a> policies

The policies section allows you to define where Tyk can find its policy templates. Policy templates are similar to key definitions in that they allow you to set quotas, access rights and rate limits for keys.

Policies are loaded when Tyk starts and if changed require a hot-reload so they are loaded into memory.

A policy can be defined in a file (stand alone mode) or from the same database as the Dashboard. Env Var: `TYK_GW_POLICIES`

#### <a name="policies-policy_source"></a> policies.policy_source


Set this value to `file` to look on the file system for a definition file, set to service to use the Dashboard `service`. This value must be set. Note the option for `mongo` has now been removed. Env Var: `TYK_GW_POLICIES_POLICYSOURCE`

#### <a name="policies-policy_connection_string"></a> policies.policy_connection_string

This option is required if you desire to use `policies.policy_source` as `service`. Set this to the URL of your dashboard installation, the URL should take the form of: `http://dashboard_host:port`. Env Var: `TYK_GW_POLICIES_POLICYCONNECTIONSTRING`

#### <a name="policies-policy_record_name"></a> policies.policy_record_name

This option is required if you desire to use `policies.policy_source` as `file`.
Specifies the path of a JSON file containing the available policies. Env Var: `TYK_GW_POLICIES_POLICYRECORDNAME`

### <a name="health_check"></a> health_check

This section enables the configuration of the health-check API endpoint and the size of the sample data cache (in seconds). Env Var: `TYK_GW_HEALTHCHECK`

#### <a name="health_check-enable_health_checks"></a> health_check.enable_health_checks

Setting this value to `true` will enable the health-check endpoint on `/Tyk/health`. Env Var: `TYK_GW_HEALTHCHECK_ENABLEHEALTHCHECKS`

#### <a name="health_check_endpoint_name"></a>health_check_endpoint_name

From v2.7.5 you can now rename the `/hello`  endpoint by using this option. 

#### <a name="health_check-health_check_value_timeouts"></a> health_check.health_check_value_timeouts

This setting defaults to `60`, this is the time window that Tyk will use to sample health-check data. Increase this value for more accurate data (larger sample period), and decrease for less accurate. The reason this value is configurable is because sample data takes up space in your Redis DB to store the data to calculate samples, on high-availability systems this may not be desirable and smaller values may be preferred. Env Var: `TYK_GW_HEALTHCHECK_HEALTHCHECKVALUETIMEOUT`

### <a name="http_server_options"></a> http_server_options

Set these options to hard-code values into the way the HTTP server behaves. Env Var: `TYK_GW_HTTPSERVEROPTIONS`

```
"http_server_options": {
  "enable_http2": true,
  "override_defaults": false,
  "use_ssl": false,
  "enable_websockets": false,
  "flush_interval": 1,
  "certificates": [
    {
      "domain_name": "ssl.domain.com",
      "cert_file": "./certs/ssl.domain.com.cert",
      "key_file": "./certs/ssl.domain.com.cert.key"
    },
    {
      "domain_name": "cname.domain.com",
      "cert_file": "./certs/cert2/cname.domain.com.cert.cert",
      "key_file": "./certs/cert2/cname.domain.com.key"
    }
  ],
  "ssl_insecure_skip_verify": false
},
```

#### <a name="enable_http2"></a> enable_http2

This defaults to true for HTTP/2 connections. Env Var: `TYK_GW_HTTPSERVEROPTIONS_ENABLEHTTP2`

#### <a name="http_server_options-use_ssl"></a> http_server_options.use_ssl

Set to `true` to enable SSL connections. Env Var: `TYK_GW_HTTPSERVEROPTIONS_USESSL`

#### <a name="http_server_options-certificates"></a> http_server_options.certificates

A list of certificates and domains to match against. Please see the SSL section for more detail for this feature. Env Var: `TYK_GW_HTTPSERVEROPTIONS_CERTIFICATES`

#### <a name="http_server_options-ssl_certificates"></a> http_server_options.ssl_certificates

Added in 2.4, as an alternative to `http_server_options.certificates`, which supports our [Certificate API](/docs/security/tls-and-ssl/mutual-tls/#certificates-management) format. It should be a list of certificate IDs returned by Certificate API, or paths to certificate in PEM format (including private key). Env Var: `TYK_GW_HTTPSERVEROPTIONS_SSLCERTIFICATES`

#### <a name="http_server_options-skip_url_cleaning"></a> http_server_options.skip_url_cleaning

Setting this option to true will allow the use of a double slash in url path, and can be useful if you need to pass raw URLs to your API endpoints. For example: `http://myapi.com/get/http://example.com`. Env Var: `TYK_GW_HTTPSERVEROPTIONS_SKIPURLCLEANING`

#### <a name="http_server_options-skip_target_path_escaping"></a> http_server_options.skip_target_path_escaping

Setting this option to true will disable automatic character escaping, allowing to path original url data to the upstream. Env Var: `TYK_GW_HTTPSERVEROPTIONS_SKIPTARGETPATHESCAPING`

#### <a name="http_server_options-flush_interval"></a> http_server_options.flush_interval

Set this to the number of seconds that Tyk should use to flush content from the proxied upstream connection to the open downstream connection. This is usually required for HTTP Streams.

For more resilient connection management, it is suggested to use the `close_connections` option below.

`flush_interval` is set in **milliseconds**. Env Var: `TYK_GW_HTTPSERVEROPTIONS_FLUSHINTERVAL`

#### <a name="http_server_options-enable_websockets"></a> http_server_options.enable_websockets

As of v2.2, Tyk supports transparent websocket connection upgrades, to enable this feature, ensure that this value is set to `true`. Env Var: `TYK_GW_HTTPSERVEROPTIONS_ENABLEWEBSOCKETS`

#### <a name="http_server_options-ssl_insecure_skip_verify"></a>http_server_options.ssl_insecure_skip_verify

Allows usage of self-signed certificates when connecting to the Gateway. Env Var: `TYK_GW_HTTPSERVEROPTIONS_SSLINSECURESKIPVERIFY`

#### <a name="security.pinned_public_keys"></a> security.pinned_public_keys

Use this option to map pinned public keys. You need to use the following format:

```
{
  "example.com": "<key-id>",
  "foo.com": "/path/to/pub.pem",
  "*.wild.com": "<key-id>,<key-id-2>"
}
```

For `key-id` you should set the ID returned after you upload the public key using the Certificate API. Additionally, you can just set path to public key, located on your server. You can specify multiple public keys by separating their IDs by a comma. Upstream certificates now also have wildcard domain support

Note that only public keys in PEM format are supported. Env Var: `TYK_GW_SECURITY_PINNEDPUBLICKEYS`

> **NOTE:** This option is available from v2.6.0 onwards.

#### <a name="close_connections"></a> close_connections

Set this value to `true` to force Tyk to close the connection with the client, otherwise the connections will remain open for as long as your OS keeps TCP connections open. This can cause a file-handler limit to be exceeded. Setting to `false` can have performance benefits as the connection can be reused.

Prior to v2.6 this setting controlled the behaviour of both the client/Tyk connection and Tyk/server connection. Since v2.6 it is just for the client/Tyk connection, with Tyk/server being controlled by <a href='#proxy_close_connections'>proxy_close_connections</a>. Env Var: `TYK_GW_CLOSECONNECTIONS`

> **NOTE:** This option is available from v2.3.5 onwards.

#### <a name="proxy_close_connections"></a> proxy_close_connections

Set this value to `true` to force Tyk to close the connection with the server, otherwise the connections will remain open for as long as your OS keeps TCP connections open. This can cause a file-handler limit to be exceeded. Setting to `false` can have performance benefits as the connection can be reused. Env Var: `TYK_GW_PROXYCLOSECONNECTIONS`

> **NOTE:** This option is available from v2.6 onwards.

### <a name="monitor"></a> monitor

The monitor section is useful if you wish to enforce a global trigger limit on organisation and user quotas. This feature will trigger a webhook event to fire when specific triggers are reached. Triggers can be global (set in the node), by organisation (set in the organisation session object) or by key (set in the key session object). Env Var: `TYK_GW_MONITOR`

While Organisation-level and Key-level triggers can be tiered (e.g. trigger at 10%, trigger at 20%, trigger at 80%), in the node-level configuration only a global value can be set. If a global value and specific trigger level are the same the trigger will only fire once:

```
"monitor": {
  "enable_trigger_monitors": true,
  "configuration": {
    "method": "POST",
    "target_path": "http://domain.com/notify/quota-trigger",
    "template_path": "templates/monitor_template.json",
    "header_map": {
      "some-secret": "89787855"
    },
    "event_timeout": 10
  },
  "global_trigger_limit": 80.0,
  "monitor_user_keys": false,
  "monitor_org_keys": true
},
```


#### <a name="monitor-enable_trigger_monitors"></a> monitor.enable_trigger_monitors

Set this to `true` to have monitors enabled in your configuration for the node. Env Var: `TYK_GW_MONITOR_ENABLETRIGGERMONITORS`

#### <a name="monitor-configuration-method"></a> monitor.configuration.method

The method to use for the webhook. Env Var: `TYK_GW_MONITOR_CONFIG_METHOD`

#### <a name="monitor-configuration-target_path"></a> monitor.configuration.target_path

The target path on which to send the request. Env Var: `TYK_GW_MONITOR_CONFIG_TARGETPATH`

#### <a name="monitor-configuration-template_path"></a> monitor.configuration.template_path

The template to load in order to format the request. Env Var: `TYK_GW_MONITOR_CONFIG_TEMPLATEPATH`

#### <a name="monitor-configuration-header_map"></a> monitor.configuration.header_map

Headers to set when firing the webhook. Env Var: `TYK_GW_MONITOR_CONFIG_HEADERLIST`

#### <a name="monitor-configuration-event_timeout"></a> monitor.configuration.event_timeout

The cool-down for the event so it does not trigger again (in seconds). Env Var: `TYK_GW_MONITOR_CONFIG_EVENTTIMEOUT`

#### <a name="monitor-global_trigger_limit"></a> monitor.global_trigger_limit

The trigger limit, as a percentage of the quota that must be reached in order to trigger the event, any time the quota percentage is increased the event will trigger. Env Var: `TYK_GW_MONITOR_GLOBALTRIGGERLIMIT`

#### <a name="monitor-monitor_user_keys"></a> monitor.monitor_user_keys

Apply the monitoring subsystem to user keys. Env Var: `TYK_GW_MONITOR_MONITORUSERKEYS`

#### <a name="monitor-monitor_org_keys"></a> monitor.monitor_org_keys

Apply the monitoring subsystem to organisation keys. Env Var: `TYK_GW_MONITOR_MONITORORGKEYS`

### <a name="uptime_tests"></a> uptime_tests

Tyk nodes can provide uptime awareness, uptime testing and analytics for your underlying APIs uptime and availability. Env Var: `TYK_GW_UPTIMETESTS`

Tyk can also notify you when a service goes down.

#### <a name="uptime_tests-disable"></a> uptime_tests.disable

To disable uptime tests on this node, switch this value to `true`. Env Var: `TYK_GW_UPTIMETESTS_DISABLE`

#### <a name="uptime_tests-config"></a> uptime_tests.config

The configuration section for the uptime tests on this node. Env Var: `TYK_GW_UPTIMETESTS_CONFIG`

#### <a name="uptime_tests-config-failure_trigger_sample_size"></a> uptime_tests.config.failure_trigger_sample_size

Set this value to `true` to have the node capture and record analytics data regarding the uptime tests.

The sample size to trigger a `HostUp` or `HostDown` event, e.g. a setting of `3` will require at least three failures to occur before the uptime test is triggered. Env Var: `TYK_GW_UPTIMETESTS_CONFIG_FAILURETRIGGERSAMPLESIZE`

#### <a name="uptime_tests-config-time_wait"></a> uptime_tests.config.time_wait

The amount of seconds between tests runs, all tests will run simultaneously, this value will set the periodicity between those tests. e.g. A value of `60` will run all uptime tests every 60 seconds. Env Var: `TYK_GW_UPTIMETESTS_CONFIG_TIMEWAIT`

#### <a name="uptime_tests-config-checker_pool_size"></a> uptime_tests.config.checker_pool_size

The goroutine pool size to keep idle for uptime tests, if you have many uptime tests running at a high periodicity, then make this value higher. Env Var: `TYK_GW_UPTIMETESTS_CONFIG_CHECKERPOOLSIZE`

### <a name="local_session_cache"></a> local_session_cache

Tyk can cache some data locally, this can speed up lookup times on a single node and lower the number of connections and operations being done on Redis, it will however introduce a slight delay when updating or modifying keys as the cache must expire. Env Var: `TYK_GW_LOCALSESSIONCACHE`

This does not affect rate limiting.

#### <a name="local_session_cache-disable_cached_session_state"></a> local_session_cache.disable_cached_session_state

By default sessions are set to cache, set this to true to stop Tyk from caching keys locally on the node. Env Var: `TYK_GW_LOCALSESSIONCACHE_DISABLECACHESESSIONSTATE`

### <a name="allow_explicit_policy_id"></a> allow_explicit_policy_id

As of v2.1, by default, in a Pro installation, Tyk will load Policy IDs and use the internal object-ID as the ID of the policy. This is not portable in cases where the data needs to be moved from installation to installation.

If you set this value to `true`, then the `id` parameter in a stored policy (or imported policy using the REST API of the Dashboard), will be used instead of the internal ID.

This option should only be used when transporting an installation to a new database. Env Var: `TYK_GW_POLICIES_ALLOWEXPLICITPOLICYID`

### <a name="oauth_token_expire"></a> oauth_token_expire

Change the expiry time of OAuth token (in seconds).

### <a name="oauth_refresh_token_expire"></a> oauth_refresh_token_expire

Change the expiry time of refresh token, by default 1 hour (in seconds). Env Var: `TYK_GW_OAUTHTOKENEXPIRE`

### <a name="oauth_token_expired_retain_period"></a>oauth_token_expired_retain_period

Specifies how long expired tokens are stored in Redis. The value is in seconds and the default is `0`. Using the default means expired tokens are never removed from Redis. Env Var: `TYK_GW_OAUTHTOKENEXPIREDRETAINPERIOD`

> **NOTE:** This option is available from v2.6.0 onwards.

### <a name="control_api_hostname"></a> control_api_hostname

The hostname to bind the REST API to.

### <a name="control-api"></a>control_api_port

This allows you to run the Gateway Control API on separate port, and protect it behind a firewall if needed.
Please make sure you follow these [instructions](https://tyk.io/docs/deploy-tyk-premise-production/#change-your-control-port) when setting the control port.

> **Note:** This option is available from v2.4 onwards.

### <a name="enable_api_segregation"></a> enable_api_segregation

For additional security it is possible to have Tyk put its REST API on a separate hostname, this means that all calls to the `/api` functions must go via this hostname for this node otherwise they will 404. This is useful if you do not wish to expose the Tyk API to proxy API users. Env Var: `TYK_GW_ENABLEAPISEGREGATION`

> **NOTE**: This has been deprecated. Enter a value for `control_api_hostname` instead.

### <a name="hostname"></a> hostname

The hostname to bind the node to. If set, all API traffic must go via this host name, otherwise it will raise a 404.

### <a name="enable_custom_domains"></a> enable_custom_domains

Set this value to `true` to enable this node to bind APIs to custom domains set in the API definition. Env Var: `TYK_GW_ENABLECUSTOMDOMAINS`

### <a name="proxy_enable_http2"></a> proxy_enable_http2

This defaults to `true` for HTTP/2 upstream connections. Env Var: `TYK_GW_PROXYENABLEHTTP2`


### <a name="enable_jsvm"></a> enable_jsvm

By default we have now disabled the JavaScript middleware system to ensure higher performance on nodes. If you are using the JSVM (custom middleware, or virtual endpoints), then enable this setting. Env Var: `TYK_GW_ENABLEJSVM`

### <a name="disable_virtual_path_blobs"></a> disable_virtual_path_blobs

If you do not wish for virtual path JavaScript code that is loaded from the dashboard to run on virtual endpoints in the node, set this value to `true` and the code will not be loaded into the VM when the API definition initialises. This is useful for systems where you want to avoid having third-party code run. Env Var: `TYK_GW_DISABLEVIRTUALPATHBLOBS`

### <a name="experimental_process_org_off_thread"></a> experimental_process_org_off_thread

Setting this option to `true` will cause the organisation quota checker to handle quota limits off the main request pipeline, this can provide a speed boost in some situations. enabling this will cause quotas to be enforced by a "lock", in order to re-access the API once the quota has reset, the lock must be broken by sending one failed request, this will cause the sentinel to be disabled and allow traffic to pass normally again. Env Var: `TYK_GW_EXPERIMENTALPROCESSORGOFFTHREAD`

### <a name="enable_sentinel_rate_limiter"></a> enable_sentinel_rate_limiter

To enable, set to `true`. The sentinel-based rate limiter provides a smoother performance curve as rate-limit calculations happen off-thread, but a stricter time-out based cool-down for clients, i.e. when a throttling action is triggered, they are required to cool-down for the period of the rate limit.

Disabling the sentinel based limiter will make rate-limit calculations happen on-thread and therefore offers staggered cool-down and a smoother rate-limit experience for the client. I.e. the client can slow their connection throughput to regain entry into their rate limit, this is more of a "throttle" than a "block". The standard rate limiter offers similar performance as the sentinel-based limiter. This is disabled by default. Env Var: `TYK_GW_ENABLESENTINELRATELIMITER`

### <a name="enable_non_transactional_rate_limiter"></a> enable_non_transactional_rate_limiter

This will be enabled by default. This is a new improved rate limiter that offers a significant improvement in performance by not using transactions on Redis rate-limit buckets. To go back to the old rate limiter, simply set this value to `false`. Env Var: `TYK_GW_ENABLENONTRANSACTIONALRATELIMITER`

### <a name="enforce_org_data_detail_logging"></a> enforce_org_data_detail_logging

Set this value to true to make it possible to have detail logging occur on a per-organisation basis, org quotas must also be enabled for this to work. Setting `enable_detail_recording` in the org session object will enable or disable the logging method on the fly. Env Var: `TYK_GW_ENFORCEORGDATADETAILLOGGING`

### <a name="enforce_org_quotas"></a> enforce_org_quotas

Set this value to `true` to have the Tyk node enforce Organisation quotas on the APIs it is managing. Env Var: `TYK_GW_ENFORCEORGQUOTAS`

### <a name="enforce_org_data_age"></a> enforce_org_data_age

Set to `true` to have Tyk enforce data age on analytics data sent to the Mongo DB purger. This must be accompanied by an additional parameter to an organisation session object called `data_expires` which is larger than `0`, this will define in seconds when analytics records for the inbound request will expire. Env Var: `TYK_GW_ENFORCEORGDATAAGE`

### <a name="use_sentry"></a> use_sentry

Set this to `true` to enable the sentry logger, you must specify a sentry DSN under `sentry_code`. Env Var: `TYK_GW_USESENTRY`

### <a name="sentry_code"></a> sentry_code

The Sentry-assigned DSN (a kind of URL endpoint) that Tyk can send log data to. Env Var: `TYK_GW_SENTRYCODE`

### <a name="suppress_redis_signal_reload"></a> suppress_redis_signal_reload

Tyk v1.6 will auto-reload when a change is detected when using the Dashboard, this used to be done by the host-manager but is now directly integrated into the Gateway. For backwards compatibility, this behaviour can be suppressed by setting this value to `true`. Env Var: `TYK_GW_SUPPRESSREDISSIGNALRELOAD`

### <a name="optimisations_use_async_session_write"></a> optimisations_use_async_session_write

Set this value to `true` to have Tyk manage session data using a goroutine, this is quite safe and can significantly boost performance in HA environments where Tyk is installed on a machine with multiple cores. Env Var: `TYK_GW_USEASYNCSESSIONWRITE`

### <a name="disable_dashboard_zeroconf"></a> disable_dashboard_zeroconf

Disable the capability of the Gateway to "autodiscover" the Dashboard through heartbeat messages via Redis. The goal of zeroconf is auto-discovery, so you do not have to specify the Tyk Dashboard address in `tyk.conf`. In some specific cases, for example, when the Dashboard is bound to a public domain, not accessible inside an internal network, or similar, `disable_dashboard_zeroconf` can be set to true, in favour of directly specifying a Tyk Dashboard address. Env Var: `TYK_GW_DISABLEDASHBOARDZEROCONF`

### <a name="auth_override"></a> auth_override

Is used as part of the RPC / Hybrid back-end configuration when using Tyk Enterprise and isn't used anywhere else. Env Var: `TYK_GW_AUTHOVERRIDE`

### <a name="use_redis_log"></a> use_redis_log

Enables the real-time Gateway log view in the Dashboard. Env Var: `TYK_GW_USEREDISLOG`


### <a name="management_node"></a> management_node

If set to `true`, distributed rate limiter will be disabled for this node, and it will be excluded from rate limit calculation. Env Var: `TYK_GW_MANAGEMENTNODE`

> **Note**: If you set `use_db_app_options.node_is_segmented` to `true` for multiple gateway nodes, you should ensure that `management_node` is set to `false`. This is to ensure visibility for the management node across all APIs. 

> This option is available from v2.3.4 and onwards.

### <a name="proxy_ssl_insecure_skip_verify"></a> proxy_ssl_insecure_skip_verify

This boolean option allows you to skip SSL checking for upstream APIs with self-signed certificates. The default setting is false. Env Var: `TYK_GW_PROXYSSLINSECURESKIPVERIFY`

> **NOTE:** This option is available from v2.3.5 onwards.

### <a name="proxy_default"></a>proxy_default_timeout

This can specify a default timeout in seconds for upstream API requests. Env Var: `TYK_GW_PROXYDEFAULTTIMEOUT`

> **NOTE:** This option is available from v2.3.8 onwards.

### <a name="log-level"></a>log_level
You can now set a logging level via the `tyk.conf` file. The following levels can be set:
* debug
* info
* warn
* error
If unset or left empty, it will default to `info`. Env Var: `TYK_GW_LOGLEVEL`

> **NOTE:** This option is available from v2.4 onwards.

### <a name="enable-key-logging"></a>enable_key_logging
By default all key ids in logs are hidden. Turn it on if you want to see them for debugging reasons. Env Var: `TYK_GW_ENABLEKEYLOGGING`

> **NOTE:** This option is available from v2.5 onwards.

### <a name="max_conn_time"></a>max_conn_time

This setting forces a DNS cache flush (in seconds). The default setting is `0`. Env Var: `TYK_GW_MAXCONNTIME`

> **NOTE:** This option is available from v2.5.2 onwards.

### <a name="proxy_ssl_min_version"></a>proxy_ssl_min_version

You use this setting to have Tyk only accept connections from TLS V1.0, 1.1 and 1.2 respectively. Env Var: `TYK_GW_PROXYSSLMINVERSION`

You need to use the following values for this setting:

| TLS Version   | Value to Use   |
|---------------|----------------|
|      1.0      |      769       |
|      1.1      |      770       |
|      1.2      |      771       |

### <a name="proxy_ssl_ciphers"></a>proxy_ssl_ciphers

This allows you to add ssl ciphers which takes an array of strings as its value. Env Var: `TYK_GW_PROXYSSLCIPHERSUITES`

Each string must be one of the allowed cipher suites as defined at https://golang.org/pkg/crypto/tls/#pkg-constants

### <a name="proxy_ssl_disable_renegotiation"></a>proxy_ssl_disable_renegotiation

From v2.7.2, TLS renegotiation is now enabled by default. You can disable it by setting `proxy_ssl_disable_renegotiation` to `false`. Env Var: `TYK_GW_PROXYSSLDISABLERENEGOTIATION`

### <a name="disable_regexp_cache"></a>disable_regexp_cache

If set to `true` this allows you to disable the regular expression cache. The default setting is `false`. Env Var: `TYK_GW_DISABLEREGEXPCACHE`

> **NOTE:** This option is available from v2.7.0 onwards.

### <a name="regexp_cache_expire"></a>regexp_cache_expire

If you set `disable_regexp_cache` to false, you can use this setting to limit how long the regular expression cache is kept for in seconds. The default is `60` seconds. This must be a positive value. If you set to `0` this sets it uses the default value. Env Var: `TYK_GW_REGEXPCACHEEXPIRE`

> **NOTE:** This option is available from v2.7.0 onwards.

